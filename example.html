<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Line Chart Example</title>
	<script src="jquery.min.js"></script>
	<script src="raphael-min.js"></script>
	<script src="linechart.js"></script>
</head>

<body>

<div class="line_chart_data">{
"title": "Random Input Dataset", legend_pos: "nw",
xlabelw: 65, ylabelw: 45,
width: 750, height: 400,
"plot": "normal",
"miny": 0.3, "maxy": 3.5,
"series": [
	{ "symbol":"", "legend":"std::partition", "data":["GCC4.7.2","Unique","Random","ParSort","4096","131072"] },
	{ "symbol":"", "legend":"Fission", "data":["GCC4.7.2","Unique","Random","NoBranch","4096","131072"] },
	//{ "symbol":"", "legend":"Fission + Par", "data":["GCC4.7.2","Unique","Random","ParNoBranch","4096","131072"] },
	{ "symbol":"", "legend":"Fission + ParS", "data":["GCC4.7.2","Unique","Random","ParNoBranchS","4096","131072"] },
	{ "symbol":"", "legend":"Fusion", "data":["GCC4.7.2","Unique","Random","Fusion","4096","131072"] },
]}
</div>


<script>
var run = {};
function add_run(comp,dataset,ordering,id,bsize){
	var r = run;
	if (!r[comp]) r[comp] = {}; 		r = r[comp];
	if (!r[dataset]) r[dataset] = {}; 	r = r[dataset];
	if (!r[ordering]) r[ordering] = {}; r = r[ordering];
	if (!r[id]) r[id] = {}; 			r = r[id];
	if (!r[bsize]) r[bsize] = {};		r = r[bsize];
	return r;
}

add_run('GCC4.7.2','Unique','Random','ParSort','4096')['131072'] = [[0,0.391295],[1,0.509188],[2,0.628574],[3,0.723727],[4,0.849326],[5,0.952863],[6,1.063468],[7,1.177755],[8,1.303149],[9,1.390367],[10,1.492141],[11,1.571708],[12,1.649893],[13,1.739794],[14,1.809367],[15,1.887673],[16,1.949083],[17,2.012205],[18,2.077214],[19,2.140998],[20,2.210022],[21,2.267097],[22,2.324049],[23,2.385149],[24,2.457423],[25,2.512395],[26,2.563106],[27,2.617271],[28,2.667130],[29,2.705272],[30,2.760658],[31,2.813547],[32,2.863725],[33,2.904873],[34,2.941946],[35,2.980121],[36,3.022139],[37,3.055047],[38,3.082390],[39,3.107401],[40,3.126854],[41,3.131084],[42,3.179692],[43,3.204935],[44,3.212088],[45,3.235353],[46,3.249008],[47,3.252922],[48,3.266690],[49,3.269013],[50,3.270496],[51,3.267765],[52,3.262351],[53,3.253893],[54,3.238719],[55,3.227799],[56,3.208469],[57,3.182704],[58,3.153574],[59,3.122106],[60,3.084079],[61,3.053424],[62,2.976754],[63,2.978481],[64,2.929098],[65,2.885221],[66,2.807795],[67,2.791163],[68,2.721541],[69,2.689876],[70,2.605462],[71,2.588283],[72,2.532671],[73,2.471249],[74,2.403432],[75,2.337057],[76,2.277840],[77,2.188480],[78,2.164127],[79,2.110724],[80,2.015432],[81,1.977282],[82,1.899617],[83,1.813503],[84,1.762827],[85,1.692603],[86,1.628941],[87,1.561818],[88,1.482120],[89,1.407194],[90,1.320306],[91,1.239148],[92,1.158036],[93,1.066345],[94,0.972790],[95,0.872217],[96,0.774795],[97,0.672768],[98,0.585422],[99,0.482316],[100,0.390901]];

add_run('GCC4.7.2','Unique','Random','NoBranch','4096')['131072'] = [[0,1.161791],[1,1.160601],[2,1.160336],[3,1.160913],[4,1.159939],[5,1.161210],[6,1.162407],[7,1.160758],[8,1.160092],[9,1.160803],[10,1.159169],[11,1.158556],[12,1.156290],[13,1.154534],[14,1.154883],[15,1.155319],[16,1.153226],[17,1.152589],[18,1.152171],[19,1.151435],[20,1.151937],[21,1.151331],[22,1.150662],[23,1.150696],[24,1.149844],[25,1.149511],[26,1.149677],[27,1.150360],[28,1.150203],[29,1.151079],[30,1.150394],[31,1.177022],[32,1.165383],[33,1.152553],[34,1.151218],[35,1.151549],[36,1.151001],[37,1.151537],[38,1.150687],[39,1.150497],[40,1.151323],[41,1.151572],[42,1.152422],[43,1.152701],[44,1.151446],[45,1.152671],[46,1.151960],[47,1.152295],[48,1.152239],[49,1.152077],[50,1.151444],[51,1.152122],[52,1.152447],[53,1.152198],[54,1.152079],[55,1.152521],[56,1.152021],[57,1.151744],[58,1.151408],[59,1.151102],[60,1.151957],[61,1.151286],[62,1.152356],[63,1.151405],[64,1.151510],[65,1.151024],[66,1.151229],[67,1.151428],[68,1.150281],[69,1.150236],[70,1.151061],[71,1.152009],[72,1.152813],[73,1.152197],[74,1.154113],[75,1.151961],[76,1.152091],[77,1.153917],[78,1.153686],[79,1.153976],[80,1.153363],[81,1.154477],[82,1.154424],[83,1.155560],[84,1.155811],[85,1.157314],[86,1.157303],[87,1.160022],[88,1.159845],[89,1.160693],[90,1.162214],[91,1.162219],[92,1.162264],[93,1.162626],[94,1.163013],[95,1.163021],[96,1.162082],[97,1.160740],[98,1.159743],[99,1.159711],[100,1.148859]];

add_run('GCC4.7.2','Unique','Random','ParNoBranchS','4096')['131072'] = [[0,0.504808],[1,0.675850],[2,0.821377],[3,0.917880],[4,1.019603],[5,1.086536],[6,1.143324],[7,1.190968],[8,1.228162],[9,1.245958],[10,1.260892],[11,1.267750],[12,1.270751],[13,1.267987],[14,1.265112],[15,1.257046],[16,1.251209],[17,1.239673],[18,1.229004],[19,1.216308],[20,1.204451],[21,1.190536],[22,1.177711],[23,1.163536],[24,1.147075],[25,1.137184],[26,1.123455],[27,1.116571],[28,1.104097],[29,1.090784],[30,1.083284],[31,1.076102],[32,1.066656],[33,1.058541],[34,1.053260],[35,1.048887],[36,1.043729],[37,1.037882],[38,1.035143],[39,1.030434],[40,1.030233],[41,1.025976],[42,1.024660],[43,1.020705],[44,1.019595],[45,1.018426],[46,1.018043],[47,1.017372],[48,1.015873],[49,1.015901],[50,1.015528],[51,1.015638],[52,1.016445],[53,1.021270],[54,1.020627],[55,1.019731],[56,1.020067],[57,1.022863],[58,1.025268],[59,1.027976],[60,1.032202],[61,1.035412],[62,1.040672],[63,1.043150],[64,1.049386],[65,1.053360],[66,1.058822],[67,1.063762],[68,1.070299],[69,1.083110],[70,1.083694],[71,1.091873],[72,1.098656],[73,1.108997],[74,1.118904],[75,1.126813],[76,1.144337],[77,1.145978],[78,1.155146],[79,1.163400],[80,1.171800],[81,1.179258],[82,1.191734],[83,1.198041],[84,1.205938],[85,1.213809],[86,1.218451],[87,1.219692],[88,1.222444],[89,1.214470],[90,1.204521],[91,1.187945],[92,1.166413],[93,1.136474],[94,1.095223],[95,1.039665],[96,0.981288],[97,0.878548],[98,0.776563],[99,0.633933],[100,0.494259]];


add_run('GCC4.7.2','Unique','Random','Fusion','4096')['131072'] = [[0,0.546737],[1,0.557414],[2,0.566766],[3,0.573239],[4,0.582584],[5,0.590102],[6,0.598685],[7,0.606309],[8,0.613427],[9,0.620009],[10,0.627103],[11,0.635937],[12,0.639106],[13,0.644313],[14,0.653338],[15,0.655099],[16,0.662467],[17,0.665612],[18,0.673503],[19,0.680985],[20,0.685763],[21,0.690561],[22,0.695097],[23,0.700326],[24,0.708038],[25,0.710832],[26,0.709708],[27,0.715101],[28,0.726455],[29,0.726710],[30,0.733427],[31,0.731217],[32,0.737784],[33,0.734918],[34,0.744430],[35,0.740521],[36,0.743091],[37,0.745961],[38,0.747040],[39,0.752615],[40,0.750360],[41,0.751742],[42,0.760652],[43,0.759199],[44,0.764683],[45,0.761250],[46,0.770186],[47,0.762662],[48,0.758755],[49,0.763476],[50,0.758817],[51,0.758602],[52,0.763642],[53,0.760802],[54,0.757409],[55,0.760171],[56,0.759682],[57,0.758671],[58,0.757113],[59,0.753638],[60,0.750852],[61,0.752020],[62,0.745152],[63,0.748337],[64,0.746334],[65,0.742278],[66,0.735553],[67,0.732395],[68,0.730898],[69,0.732274],[70,0.727000],[71,0.723290],[72,0.720399],[73,0.718315],[74,0.717097],[75,0.709461],[76,0.706824],[77,0.702247],[78,0.700014],[79,0.689178],[80,0.685569],[81,0.679014],[82,0.672912],[83,0.668277],[84,0.664275],[85,0.659448],[86,0.651073],[87,0.648757],[88,0.643136],[89,0.633020],[90,0.626622],[91,0.619825],[92,0.614155],[93,0.609366],[94,0.600763],[95,0.592526],[96,0.584894],[97,0.574918],[98,0.567154],[99,0.557974],[100,0.546096]];



var viewer_opts = {
	minGap: 10,					// 2 adjacent points less than minGap (in pixel) won't be drawn
	xlabelw: 60,
	ylabelw: 40,
	backgroundColor: '#f6f6f6',	// background color of this line chart
	legends: []		// static names for the legend and markers
};

var draw_opts = {
	plot: "normal",
	cumulative: false,
	// legend_pos: "nw",
	xlabel: 'Attribute Value Domain (in percentage)',
	ylabel: 'Response Time (seconds)',
	// xmin: p.xmin, xmax: p.xmax,
	// ymin: p.ymin, ymax: p.ymax,
	// miny: 0.07, maxy: 0.8,
	use_lines: true
};

$(function(){
	$('.line_chart_data').each(function(i,a){
		var txt = 'txt = ' + $(a).text(); $(a).html('');
		var opts = $.extend({width:690,height:450}, viewer_opts, eval(txt));
		var chart = CreateLineChart(a,opts.width,opts.height,opts);
		for (var i=0; i<opts.series.length; i++){
			var s = opts.series[i], d = run;
			for (var j=0; j<s.data.length; j++) d = d[s.data[j]];
			s.data = d;
		}
		$.extend(opts, draw_opts);
		chart.draw(opts.series, opts);
	});
});
</script>
</div>
</body>
</html>
